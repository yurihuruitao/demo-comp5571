<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AICSE - Health Assistant</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Roboto:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>

    <div class="main-container">
        <h1 class="logo-text">AICSE</h1>
        <div class="top-controls">
            <button id="language-toggle-btn" class="language-toggle-btn" title="Switch Language / ÂàáÊç¢ËØ≠Ë®Ä">
                <span class="language-icon">üåê</span>
                <span id="language-text" class="language-text">‰∏≠Êñá</span>
            </button>
            <button id="profile-btn" class="profile-btn" title="Enter your basic information" data-lang="profileBtn">üë§ My Profile</button>
            <button id="profile-guide-btn" class="profile-guide-btn" title="Let me help you fill in your profile" data-lang="profileGuideBtn">ü§ñ Profile Assistant</button>
            <button id="reminder-btn" class="reminder-btn" title="Click to view reminders and toggle on/off">
                <span class="reminder-icon">‚è∞</span>
                <span class="reminder-text" data-lang="reminderBtn">Medication Reminder</span>
                <span id="reminder-status-badge" class="reminder-status-badge off" data-lang="reminderStatusOff">OFF</span>
            </button>
            <div class="voice-command-container">
                <button id="voice-command-btn" class="voice-command-btn" title="Say 'doctor' or 'friend' to open chat" data-lang="voiceCommand">üé§ Voice Command</button>
                <div id="voice-status" class="voice-status" data-lang="voiceStatus">Say "doctor" or "friend"...</div>
            </div>
        </div>
        <div class="characters-container">
            <!-- ÂåªÁîüËßíËâ≤ -->
            <div class="character-wrapper" id="doctor-wrapper">
                <div class="character doctor-character">
                    <div class="character-head">
                        <div class="face">
                            <div class="eyes">
                                <div class="eye left-eye"></div>
                                <div class="eye right-eye"></div>
                            </div>
                            <div class="mouth"></div>
                        </div>
                        <div class="doctor-cap"></div>
                        <div class="stethoscope"></div>
                    </div>
                    <div class="character-body doctor-body">
                        <div class="white-coat"></div>
                        <div class="arms">
                            <div class="arm left-arm"></div>
                            <div class="arm right-arm"></div>
                        </div>
                    </div>
                    <div class="character-legs">
                        <div class="leg"></div>
                        <div class="leg"></div>
                    </div>
                </div>
                <div class="tooltip doctor-tooltip" data-lang="doctorTitle">Health Consultation</div>
            </div>

            <!-- ÊôÆÈÄö‰∫∫ËßíËâ≤ -->
            <div class="character-wrapper" id="friend-wrapper">
                <div class="character friend-character">
                    <div class="character-head">
                        <div class="face">
                            <div class="eyes">
                                <div class="eye left-eye"></div>
                                <div class="eye right-eye"></div>
                            </div>
                            <div class="mouth smile"></div>
                        </div>
                        <div class="friend-hair"></div>
                    </div>
                    <div class="character-body friend-body">
                        <div class="casual-shirt"></div>
                        <div class="arms">
                            <div class="arm left-arm"></div>
                            <div class="arm right-arm"></div>
                        </div>
                    </div>
                    <div class="character-legs">
                        <div class="leg"></div>
                        <div class="leg"></div>
                    </div>
                </div>
                <div class="tooltip friend-tooltip" data-lang="friendTitle">Friendly Chat</div>
            </div>
        </div>
    </div>

    <div id="suggestion-modal" class="modal">
        <div class="modal-content chat-modal-content">
            <span class="close-btn">&times;</span>
            <h2 class="chat-title" data-lang="doctorModalTitle">ü©∫ Health Consultation</h2>
            <div class="chat-container">
                <div id="suggestion-messages" class="chat-messages">
                    <div class="chat-message ai-message">
                        <p id="doctor-initial-message">Hello! I'm your health advisor. Please tell me about your symptoms or discomfort, and I'll provide you with professional health advice. üòä</p>
                    </div>
                </div>
                <div class="chat-input-area">
                    <textarea id="disease-input" data-lang="doctorPlaceholder" placeholder="Describe your symptoms here..." rows="3"></textarea>
                    <div class="button-group">
                        <button id="voice-input-btn" class="voice-btn" title="Click to speak">üé§</button>
                        <button id="generate-btn" data-lang="generateBtn">Send</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="chat-modal" class="modal">
        <div class="modal-content chat-modal-content">
            <span class="close-btn chat-close-btn">&times;</span>
            <h2 class="chat-title" data-lang="chatModalTitle">üí¨ Friendly Chat</h2>
            <div class="chat-container">
                <div id="chat-messages" class="chat-messages">
                    <div class="chat-message ai-message">
                        <p id="chat-initial-message">Hello! I'm your AI friend. What would you like to talk about? We can chat about life, feelings, or anything you'd like to share. üòä</p>
                    </div>
                </div>
                <div class="chat-input-area">
                    <textarea id="chat-input" data-lang="chatPlaceholder" placeholder="Type your message..." rows="3"></textarea>
                    <div class="button-group">
                        <button id="chat-voice-btn" class="voice-btn" title="Click to speak">üé§</button>
                        <button id="send-btn" data-lang="sendBtn">Send</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Âü∫Êú¨‰ø°ÊÅØÂºπÁ™ó -->
    <div id="profile-modal" class="modal">
        <div class="modal-content profile-modal-content">
            <span class="close-btn profile-close-btn">&times;</span>
            <h2 class="profile-title" data-lang="profileModalTitle">üìã My Health Profile</h2>
            <p class="profile-description">Please provide your basic information so I can give you more personalized advice.</p>
            <form id="profile-form" class="profile-form">
                <div class="form-group">
                    <label for="user-name" data-lang="userName">Name</label>
                    <input type="text" id="user-name" placeholder="e.g., John Smith">
                </div>
                <div class="form-group">
                    <label for="user-age" data-lang="userAge">Age</label>
                    <input type="number" id="user-age" placeholder="e.g., 65" min="1" max="120">
                </div>
                <div class="form-group">
                    <label for="user-gender" data-lang="userGender">Gender</label>
                    <select id="user-gender">
                        <option value="">Select...</option>
                        <option value="Male" data-lang="genderMale">Male</option>
                        <option value="Female" data-lang="genderFemale">Female</option>
                        <option value="Other" data-lang="genderOther">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="user-conditions" data-lang="userConditions">Existing Health Conditions</label>
                    <textarea id="user-conditions" placeholder="e.g., Diabetes, High blood pressure, Arthritis..." rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="user-allergies" data-lang="userAllergies">Known Allergies</label>
                    <textarea id="user-allergies" placeholder="e.g., Penicillin, Peanuts, Pollen..." rows="2"></textarea>
                </div>
                <div class="form-group">
                    <label for="user-medications" data-lang="userMedications">Current Medications</label>
                    <textarea id="user-medications" placeholder="e.g., Metformin, Lisinopril..." rows="2"></textarea>
                </div>
                <div class="form-group">
                    <label for="medication-schedule" data-lang="medicationScheduleTitle">üíä Medication Schedule</label>
                    <p class="schedule-hint">Add your daily medication schedule below:</p>
                    <div class="medication-schedule-container">
                        <table id="medication-table" class="medication-table">
                            <thead>
                                <tr>
                                    <th data-lang="medName">Medication Name</th>
                                    <th data-lang="medTime">Time</th>
                                    <th data-lang="medDosage">Dosage</th>
                                    <th data-lang="medNotes">Notes</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="medication-tbody">
                                <!-- ËçØÁâ©ËÆ∞ÂΩïÂ∞ÜÂä®ÊÄÅÊ∑ªÂä†Âà∞ËøôÈáå -->
                            </tbody>
                        </table>
                        <button type="button" class="add-medication-btn" id="add-medication-btn" data-lang="addMedicationBtn">‚ûï Add Medication</button>
                    </div>
                </div>
                <div class="form-buttons">
                    <button type="submit" class="save-profile-btn" data-lang="saveProfileBtn">üíæ Save Profile</button>
                    <button type="button" class="clear-profile-btn" data-lang="clearProfileBtn">üóëÔ∏è Clear All</button>
                </div>
            </form>
            <div id="profile-status" class="profile-status"></div>
        </div>
    </div>

    <!-- ÊúçËçØÊèêÈÜíÂàóË°®ÂºπÁ™ó -->
    <div id="reminder-modal" class="modal">
        <div class="modal-content reminder-modal-content">
            <span class="close-btn reminder-close-btn">&times;</span>
            <h2 class="reminder-title" data-lang="reminderModalTitle">‚è∞ Medication Reminders</h2>
            <p class="reminder-description">Your daily medication schedule. Reminders will alert you at scheduled times.</p>
            
            <div id="reminder-list" class="reminder-list">
                <!-- ÊúçËçØÊèêÈÜíÂàóË°®Â∞ÜÂä®ÊÄÅÁîüÊàê -->
            </div>
            
            <div class="reminder-controls">
                <button id="enable-reminders-btn" class="enable-reminders-btn" data-lang="enableRemindersBtn">üîî Enable Reminders</button>
                <p class="reminder-note">Note: Please allow notifications in your browser when prompted.</p>
            </div>
        </div>
    </div>

    <!-- ÊúçËçØÊèêÈÜíÈÄöÁü•ÂºπÁ™ó -->
    <div id="medication-alert" class="medication-alert" style="display: none;">
        <div class="medication-alert-content">
            <div class="alert-header">
                <span class="alert-icon">üíä</span>
                <h3 class="alert-title" data-lang="alertTitle">üíä Medication Reminder</h3>
            </div>
            <div class="alert-body">
                <p class="alert-medication-name" id="alert-medication-name"></p>
                <p class="alert-medication-info" id="alert-medication-info"></p>
                <p class="alert-time" id="alert-time"></p>
            </div>
            <div class="alert-actions">
                <button id="taken-btn" class="taken-btn" data-lang="alertTaken">‚úì Taken</button>
                <button id="snooze-btn" class="snooze-btn" data-lang="alertSnooze">‚è∞ Snooze 10min</button>
            </div>
        </div>
    </div>

    <!-- ÂºïÂØºÊú∫Âô®‰∫∫ÂºπÁ™ó -->
    <div id="profile-guide-modal" class="modal">
        <div class="modal-content chat-modal-content">
            <span class="close-btn profile-guide-close-btn">&times;</span>
            <h2 class="chat-title" data-lang="guideModalTitle">ü§ñ Profile Setup Assistant</h2>
            <p class="guide-subtitle">Let me help you set up your profile through conversation</p>
            <div class="chat-container">
                <div id="guide-messages" class="chat-messages">
                    <div class="chat-message ai-message">
                        <p>Hi! I'm your profile assistant. I'll help you set up your health profile through a friendly conversation. Let's start with your name - what should I call you?</p>
                    </div>
                </div>
                <div class="chat-input-area">
                    <textarea id="guide-input" data-lang="guidePlaceholder" placeholder="Type your answer..." rows="2"></textarea>
                    <div class="button-group">
                        <button id="guide-voice-btn" class="voice-btn" title="Click to speak">üé§</button>
                        <button id="guide-send-btn" data-lang="guideSendBtn">Send</button>
                    </div>
                </div>
            </div>
            <div class="guide-progress">
                <div class="progress-bar">
                    <div id="guide-progress-fill" class="progress-fill"></div>
                </div>
                <p id="guide-progress-text" class="progress-text">Step 1 of 7: Name</p>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>