# 语音命令功能使用指南

## 功能概述
现在您可以通过语音命令快速打开对话界面,无需点击角色图标!

## 使用方法

### 1. 启动语音命令
- 点击页面顶部的 **"🎤 Voice Command"** 按钮
- 按钮会变成红色并显示 "🔴 Listening..."
- 屏幕会显示提示信息: "Say 'doctor' or 'friend'..."

### 2. 说出命令词
#### 打开健康咨询界面
- 说: **"doctor"** 或 **"doctors"**
- 系统会自动打开医生咨询对话框
- 输入框自动获得焦点,可立即输入

#### 打开聊天界面  
- 说: **"friend"** 或 **"friends"**
- 系统会自动打开聊天对话框
- 输入框自动获得焦点,可立即开始聊天

### 3. 反馈信息
- ✓ 成功识别: 显示绿色提示 "Opening Health Consultation..." 或 "Opening Friendly Chat..."
- ❌ 未识别关键词: 显示红色提示 "Please say 'doctor' or 'friend'"
- ❌ 未检测到语音: 显示 "No speech detected"

## 技术特点

### 智能识别
- 自动识别 "doctor" / "doctors" 关键词
- 自动识别 "friend" / "friends" 关键词
- 大小写不敏感,灵活匹配

### 视觉反馈
- 录音时按钮变红并有脉冲动画
- 实时显示识别结果
- 成功/失败有不同颜色提示

### 自动聚焦
- 打开对话框后自动聚焦到输入框
- 可立即开始输入或继续使用语音输入

## 示例场景

### 场景1: 健康咨询
1. 点击 "🎤 Voice Command"
2. 说 "doctor"
3. 医生咨询界面自动打开
4. 点击输入框旁的 🎤 按钮说出症状
5. 或直接键盘输入症状

### 场景2: 友好聊天
1. 点击 "🎤 Voice Command"  
2. 说 "friend"
3. 聊天界面自动打开
4. 点击输入框旁的 🎤 按钮说出想聊的内容
5. 或直接键盘输入消息

## 浏览器兼容性
- ✅ Chrome (推荐)
- ✅ Edge
- ✅ Safari
- ❌ 旧版浏览器可能不支持

## 权限要求
首次使用时,浏览器会请求麦克风权限,请点击"允许"。

## 故障排查

### 按钮不显示
- 浏览器不支持 Web Speech API
- 请使用 Chrome、Edge 或 Safari

### 无法识别语音
- 检查麦克风权限是否开启
- 确保麦克风正常工作
- 说话清晰,距离麦克风适中

### 识别错误
- 尽量清晰地说出 "doctor" 或 "friend"
- 避免背景噪音干扰
- 可以重复尝试

## 功能组合

现在应用有三种语音功能:

1. **语音命令** (🎤 Voice Command): 打开对话框
2. **健康咨询语音输入** (对话框内的 🎤): 输入症状描述
3. **聊天语音输入** (对话框内的 🎤): 输入聊天内容

这三个功能可以组合使用,实现完全的语音交互体验!
